# ⚡ 最强AI工作流工具n8n终极入门教学 - 理论篇
这是对木子不写代码的视频 `BV1SxEPzdECk` 的学习笔记。我们将从最基础的理论开始，彻底搞懂n8n的核心概念。
## 🧭 学习路线图：从小白到高手
> [!NOTE] 一句话概括
> 学习n8n就像打游戏，要先熟悉地图和基本操作（`基础篇`），再学高级技能（`进阶篇`），最后才能成为掌控数据的大神（`高手篇`）。
视频中提到了一个清晰的学习路径，分为`$3`个阶段：
1.  **基础篇 ✨**
    -   **目标**：认识n8n的操作界面，了解不同类型的“积木”（节点）都是干什么用的。这是我们本次学习的重点。
    -   **来源**：这是任何学习新工具的第一步，就像学开车要先认识方向盘和油门刹车。
2.  **进阶篇 🚀**
    -   **目标**：学会如何让n8n和外部世界（其他App或网站）沟通。这主要通过一种叫做 `API` 的技术来实现。
    -   **来源**：当你想让n8n帮你发邮件、更新表格时，就需要通过`API`这个“信使”去和其他软件对话。
3.  **高手篇 👑**
    -   **目标**：精通数据在n8n内部的流动方式。理解数据是如何从一个节点传递到下一个节点，并学会如何像玩橡皮泥一样，随心所欲地处理这些数据。
    -   **来源**：这是实现复杂、个性化自动化流程的关键。比如，你只想处理邮件里特定的信息，就需要学会如何提取和转换数据。
## 1️⃣ 基础篇：认识操作界面与节点
### 🖥️ n8n 主界面概览
> [!NOTE] 一句话概括
> n8n的主界面就像一个控制中心，你可以在这里管理你所有的自动化方案、连接凭证和查看运行记录。
当你新建一个工作流（Workflow）时，会看到一个主要由`$3`列构成的界面。这`$3`列是你的指挥部。
-   `Workflows` (工作流列表)
    -   **这是什么？**：这里存放着你创建的所有自动化流程。每个流程就是一个“工作流”。
    -   **细节**：你会看到每个工作流后面有一个状态标识。
        -   `inactive` (未激活)：表示这个工作流只是一个草稿，或者你暂时停用了它。它不会自动运行。
        -   `active` (已激活)：表示这个工作流已经“上线”了，它会在后台待命，一旦满足触发条件，就会自动执行。
    -   > [!EXAMPLE] 举个例子
    >   > 你设计了一个“每天早上`$9`点自动发送天气预报到微信”的工作流。当你还在调试、修改它的时候，它的状态是 `inactive`。当你测试完成，点击激活，它的状态就变成了 `active`，从此每天早上`$9`点它都会准时为你服务。
-   `Credentials` (凭证中心)
    -   **这是什么？**：这里是你存放所有“钥匙”的地方。这些“钥匙”就是用来连接其他App的 `API密钥` 或 `Token`。
    -   **来源**：为了安全，n8n不会把你的密码、密钥直接写在工作流里，而是统一存放在这个“保险箱”里。当工作流需要连接比如飞书、Gmail时，它会自动来这里取对应的“钥匙”开门。
    -   > [!EXAMPLE] 举个例子
    >   > 你想让n8n帮你读取Google Sheets表格。你需要在Google那边获取一个授权密钥，然后把这个密钥存放在n8n的`Credentials`里，并给它起个名字，比如“我的谷歌表格钥匙”。之后，所有需要用到这个表格的工作流，只需要选择“我的谷歌表格钥匙”即可，非常方便和安全。
-   `Executions` (执行记录)
    -   **这是什么？**：这里记录了你所有工作流的每一次运行历史。
    -   **细节**：你可以看到每次运行是成功了还是失败了。如果失败了，你可以点进去查看详细的错误报告，看看是哪个环节出了问题。
    -   **来源**：这就像飞机的“黑匣子”，是排查错误的必备工具。
    -   > [!EXAMPLE] 举个例子
    >   > 你那个“发天气预报”的工作流某天突然没动静了。你就可以来`Executions`里查看，可能会发现一条失败记录，点进去一看，错误信息是“网络连接超时”，你就知道可能是当时你家里的网络断了。
### 🧩 节点 (Nodes)：工作流的积木
> [!NOTE] 一句话概括
> 节点就是搭建自动化流程的一个个“功能积木”，不同积木负责不同的任务。
视频里把节点分成了`$3`大类，它们是构成一个完整工作流的核心部件：
1.  **触发节点 (Trigger Nodes)**：决定工作流**在什么情况下开始运行**。
2.  **AI 智能体 (AI Agents)**：负责**思考和生成内容**，是工作流的“大脑”。
3.  **应用节点 (Application Nodes)**：负责**连接和操作**其他软件，是工作流的“手和脚”。
我们首先来深度解析最重要、也是第一步的 ==触发节点==。
## 🚀 触发节点 (Trigger Nodes) 深度解析
> [!NOTE] 一句话概括
> 触发节点就是整个自动化流程的“启动按钮”，它决定了工作流在什么情况下开始运行。
你可以通过点击画布右上角的 `+` 号，然后选择 `Add Trigger` 来添加这些节点。
#### 1. 🖱️ 手动触发 (On Click / Manual Trigger)
> [!TIP] 一句话总结
> 就是你用鼠标点一下，工作流就运行一次，专门用来测试。
-   **🤔 为什么需要它？**
    -   **来源**：在设计一个复杂的工作流时，你不可能每次都去真实地触发它（比如真的去付一笔款）来测试。你需要一个简单、可控的方式来手动运行流程，检查每一步是否都按预期工作。这就是手动触发节点的由来。
-   **⚙️ 它是如何工作的？**
    -   这个节点上有一个按钮，通常写着 `Test workflow`。你点击它，整个工作流就会从头到尾执行一遍。
-   **💡 举个例子**
    -   你正在做一个“当收到新邮件时，自动提取附件并保存到网盘”的工作流。在正式激活前，你可以用手动触发来模拟这个流程，看看AI是否能正确提取信息，文件是否能正确保存，而不需要真的给自己发一封邮件。
#### 2. ⏰ 定时触发 (Schedule Trigger)
> [!TIP] 一句话总结
> 设定一个时间，让工作流像闹钟一样到点就自动运行。
-   **🤔 为什么需要它？**
    -   **来源**：很多任务是周期性的，比如每日报告、每周汇总、每月清理数据等。我们希望这些重复性工作能被自动完成，解放我们的时间。
-   **⚙️ 它是如何工作的？**
    -   你可以设置非常灵活的时间规则。比如：
        -   每隔 `$5` 分钟
        -   每天的早上 `$8` 点
        -   每周一的上午 `$10` 点
        -   每个月的 `$1` 号
        -   使用专业的 `Cron` 表达式自定义更复杂的时间（这是一个高级用法，暂时不用管）
-   **💡 举个例子**
    -   视频中提到，每天晚上`$8`点触发工作流。这个工作流可能是去抓取特定网站的新闻，然后整理成一份简报，通过邮件发给你。
#### 3. 🌐 Webhook 触发
> [!TIP] 一句话总结
> n8n给你一个专属网址，任何其他应用往这个网址“吼一嗓子”（发送一个请求），工作流就启动。
-   **🤔 为什么需要它？**
    -   **来源**：很多事件的发生时间是不固定的，比如客户付款、用户注册、别人给你发消息。我们希望在这些事件**发生的一瞬间**就触发工作流，而不是傻傻地每分钟去检查一次。Webhook就是为了实现这种“即时响应”而生的。
-   **⚙️ 它是如何工作的？**
    -   这个节点会生成`$2`个URL（网址）：
        -   `Test URL`：在你搭建和测试工作流时使用。
        -   `Production URL`：当你激活工作流，让它正式上岗时使用。
    -   你需要把这个`Production URL`复制粘贴到其他应用的设置里（比如你的电商网站后台）。当那个应用里发生特定事件时（比如“付款成功”），它就会自动向这个URL发送一个`HTTP请求`（你可以理解为发送了一个“信号”），n8n收到信号后立刻启动对应的工作流。
-   **💡 举个例子**
    -   一个客户在你的网站上购买了商品并完成了付款。支付平台（如Stripe）立刻向你的n8n Webhook URL发送了一个包含订单信息的请求。n8n收到后，立即启动工作流，自动给客户发一封感谢邮件，并通知仓库发货。
#### 4. 📝 表单提交触发 (On Form Submission)
> [!TIP] 一句话总结
> n8n帮你创建一个简单的在线网页表单，别人填完并提交表单，工作流就启动。
-   **🤔 为什么需要它？**
    -   **来源**：有时，你想通过一个简单的界面来手动输入一些信息，从而启动一个复杂的自动化流程。比如，你有了一个灵感，想快速记录下来并让AI帮你扩写。这个功能就提供了一个无需搭建网站的快速入口。
-   **⚙️ 它是如何工作的？**
    -   和Webhook类似，它也提供一个URL。你访问这个URL，会看到一个由你在n8n里自定义的表单。
    -   你可以定义表单里需要填写哪些内容，比如“主题”、“要求”等输入框。
    -   当用户填写完并点击提交，这些数据就会被发送给n8n，并启动工作流。
-   **💡 举个例子**
    -   视频中提到，你可以创建一个“社交媒体灵感”表单。当你突然想到一个帖子主题时，就用手机打开这个表单的网址，在输入框里填上“用n8n实现自动化摸鱼”，然后提交。n8n工作流被触发，自动调用AI生成帖子文案、配图，甚至可以安排在未来某个时间自动发布。
#### 5. 🔗 被另一工作流调用触发 (Execute Workflow)
> [!TIP] 一句话总结
> 把一个复杂的工作流拆成几个“小零件”，一个“主工作流”可以随时调用这些“小零件”来干活。
-   **🤔 为什么需要它？**
    -   **来源**：当你的工作流变得非常庞大（比如有三四十个节点），会难以维护。而且，很多功能模块（比如“AI生成图片”）可能会在多个不同的工作流中被重复使用。为了“代码复用”和“模块化”，我们把这些通用功能单独做成一个可被调用的“子工作流”。
-   **⚙️ 它是如何工作的？**
    -   你创建一个“子工作流”，它的触发器就是“被另一工作流调用”。
    -   在你的“主工作流”中，你可以使用一个叫做 `Execute Workflow` 的**普通节点**（注意，这时它不是触发器）来调用这个“子工作流”。
-   **💡 举个例子**
    -   你有一个专门的“AI生成图片”子工作流。
    -   你的“写博客”工作流在生成完文字后，可以调用它来生成文章配图。
    -   你的“发推特”工作流在生成完推文后，也可以调用它来生成推文配图。
    -   未来如果想更换生成图片的AI模型，你只需要修改这一个“AI生成图片”子工作流即可，所有调用它的主工作流都会自动更新，无需一个个去改。
#### 6. 💬 聊天触发 (On Chat)
> [!TIP] 一句话总结
> 提供一个聊天窗口，你通过和它对话的方式来启动和控制工作流。
-   **🤔 为什么需要它？**
    -   **来源**：这是构建交互式AI应用（如聊天机器人）的基础。我们希望通过自然语言对话，而不是点击按钮或填表单，来与我们的自动化流程互动。
-   **⚙️ 它是如何工作的？**
    -   这个节点会提供一个 `Open chat` 按钮。点击后，会弹出一个聊天界面。
    -   你在这个界面里输入的每一句话，都会作为数据触发工作流。
    -   工作流处理完你的消息后，可以再把结果返回到这个聊天界面，形成对话。
-   **💡 举个例子**
    -   你可以做一个“智能客服机器人”。它的触发器就是这个聊天节点。当用户在聊天窗口问“我的订单到哪了？”，这句话就会触发工作流，工作流会去查询数据库，然后把物流信息返回到聊天窗口给用户看。
#### 7. 📲 被外部应用触发 (On App Event)
> [!TIP] 一句话总结
> 当你在其他常用软件（如Notion、飞书、Gmail）里做了某个特定操作时，自动触发n8n工作流。
-   **🤔 为什么需要它？**
    -   **来源**：这是最强大和最常用的一类触发器。我们的工作和生活已经深度绑定在各种App上。我们希望当这些App里发生变化时，能自动触发一系列后续动作，将它们无缝连接起来。这其实是Webhook的一种更友好、更方便的封装。
-   **⚙️ 它是如何工作的？**
    -   n8n已经内置了对数百个应用的官方支持。你选择一个应用（比如Notion），然后通过`Credentials`（凭证中心）授权n8n访问它。
    -   之后，你可以选择具体监听哪个事件。比如在Notion里，你可以选择“当数据库新增一个页面时”或“当某个页面被更新时”作为触发条件。
-   **💡 举个例子**
    -   视频中列举了`$3`个例子：
        1.  **Stripe 触发**：当有客户付款成功（或者付款失败），Stripe会通知n8n，n8n启动工作流，自动记录到账单或发送催款邮件。
        2.  **Facebook/Instagram 触发**：当有人在你的Instagram主页给你发了私信，或者在你的帖子里留言，n8n可以被触发，然后让AI分析留言内容，如果是负面评论就自动提醒你处理。
        3.  **Notion 触发**：你和团队共享一个Notion任务看板。当有同事在里面新建一个任务并指派给你时，Notion会触发n8n工作流，自动在你的日历（如Google Calendar）上创建一个对应的待办事项。