
好的，遵照您的要求，我已经将这部分课程内容整理成了便于快速记忆的 Obsidian 笔记格式。笔记在细节部分完全复刻了老师的讲解思路和例子，并最后附上了总结表格。

---

# 1 数据的特征：集中趋势、离散程度与分布形状

> [!NOTE] 核心思想
> 原始数据量可能非常多，我们希望能用几个比较少的、特定的指标（特征）来对数据进行简单的描述。

---
## 1.1 集中趋势 (Central Tendency)
> [!NOTE] 定义
> 一组数据向某一中心值靠拢的程度，反映了一组数据**中心点**的位置所在。
> - “中心点”是一个抽象的语言描述，并非特指某个具体的数。由此引申出众数、中位数、平均数等不同概念。

### 1.1.1 众数 (Mode)
- **定义**: 出现次数最多的变量值。
- **特征**:
    1.  **数据量较大时才有意义**: 样本量过小（如仅5个数），讨论众数意义不大。
    2.  **不受极端值的影响**: 众数只关心频次，不关心数值大小。一个数是100还是一万，只要出现次数相同，对众数的影响就一样。
    3.  **可能不存在或有多个**:
        - **单众数**: 只有一个众数。
        - **双众数**: 有两个众数。
        - **无众数**: 数据呈现均匀分布，没有明显集中的值。
- **适用性**:
    - 主要适用于**分类数据**。
    - 数值型数据也可用（将每个数值视为一类）。

### 1.1.2 中位数 (Median) 与 分位数 (Quantiles)
- **适用性**: 顺序数据、数值型数据。

#### 1.1.2.1 中位数 (Median)
- **定义**: 将数据排序后，处于中间位置的变量值，记为 `M`。
- **特点**: **不受极端值的影响**。极端值（如10000）对中位数的影响，和普通的最大值（如2001）的影响是一样的，只影响其排序位置，不影响中位数的数值计算。
- **计算方法**:
    - **N为奇数**: `第 (N+1)/2` 位的值。
        - **例子 (9个家庭收入)**:
            - 原始数据排序后: 600(1), 780(2), 850(3), 960(4), **1080(5)**, 1250(6), 1500(7), 1800(8), 2000(9)
            - N=9 (奇数), 位置 = (9+1)/2 = 5。
            - 中位数为第5个数，即 **1080**。
            - **解读**: 1080 恰好在中间，左右两侧各有4个数。
    - **N为偶数**: `第 N/2 位` 和 `第 (N/2)+1 位` 的平均值。
        - **例子 (10个数字)**:
            - ... 850(4), **960(5)**, **1080(6)**, 1250(7) ...
            - N=10 (偶数), 取第5位和第6位的平均值。
            - 中位数 = (960 + 1080) / 2 = **1020**。
            - **解读**: 相当于在960和1080之间虚拟一个数出来，使其左右两边各有5个数。

#### 1.1.2.2 四分位数 (Quantiles)
- **定义**: 将全部数据从小到大排序后，用三个点将数据分成四等份，每部分包含25%的数据。
    - **下四分位数 (QL, Lower Quartile)**: 数据中排在后25%位置的点。`L` 代表 `lower`。
    - **上四分位数 (QU, Upper Quartile)**: 数据中排在前25%（即超过75%）位置的点。`U` 代表 `upper`。
- **类比**:
    - **游戏排位**: 你超过了全服25%的玩家，你就在QL点上；超过了75%的玩家，你就在QU点上。
    - **班级排名**: 你排在班级后25%，就是QL；排在班级前25%，就是QU。
- **计算方法**:
> [!WARNING] 注意
    > 四分位数的计算公式有很多种，如 `n/4` 法，`(n+1)/4` 法等。考试时通常会指定公式，平时练习建议使用 `(n+1)/4` 法，因为它更精确、更符合直观意义。

 **直观理解 (当数据量较少时)**:
        - 数据: `1, 2, 3, 4, 5, 6, 7`
        - 中位数 (Q2) 是 `4`。
        - 前半部分数据 `1, 2, 3` 的中位数是 `2`，所以 **QL = 2**。
        - 后半部分数据 `5, 6, 7` 的中位数是 `6`，所以 **QU = 6**。
        - 使用 `(n+1)/4` 公式验证:
            - QL位置 = (7+1)/4 = 2，即第2个数，为 `2`。
            - QU位置 = 3 * (7+1)/4 = 6，即第6个数，为 `6`。
    - **老师讲解的公式计算 (线性插值法)**:
        > [!IMPORTANT] 考试指定公式计算过程复刻
        > 假设有9个家庭收入数据，并指定用 `i = n/4` 和 `i = 3n/4` 定位。

1.  **计算下四分位数 (QL)**:
            - **定位**: `i = 9 / 4 = 2.25`。这表示QL在第2个数和第3个数之间，具体在从第2个数开始25%的位置上。
            - **数据**: 第2个数是780，第3个数是850。两者差距为 `850 - 780 = 70`。
            - **插值**: 把70的间距分成4格，每格是 `70 / 4 = 17.5`。我们需要0.25，也就是1格的距离。
            - **计算**: `QL = 第2个数 + 0.25 * (差距) = 780 + 0.25 * 70 = 780 + 17.5 = 797.5`。

    1.  **计算上四分位数 (QU)**:
            - **定位**: `i = 3 * 9 / 4 = 6.75`。这表示QU在第6个数和第7个数之间，具体在从第6个数开始75%的位置上。
            - **数据**: 第6个数是1250，第7个数是1500。两者差距为 `1500 - 1250 = 250`。
            - **插值**: 把250的间距分成4格，我们需要0.75，也就是3格的距离。
            - **计算**: `QU = 第6个数 + 0.75 * (差距) = 1250 + 0.75 * 250 = 1250 + 187.5 = 1437.5`。

- **结果解读**:
    - 至少有25%的数据小于或等于QL。
    - 至少有75%的数据小于或等于QU。
    - **QL和QU之间包含了中间50%的数据**。

### 1.1.3 平均数 (Mean)

#### 1.1.3.1 算术平均数 (Arithmetic Mean)
- **最大缺点**: **极易受极端值（异常值）的影响**。
    - **例子**: “被平均”的工资，一个人的超高工资可以显著拉高整个群体的平均工资。
- **计算**:
    - **简单数据**: `X̄ = (ΣXi) / n`
    - **分组数据**: 用**组中值 (Mi)** 代表该组的原始数据进行加权平均。
        - **公式**: `X̄ = (Σfi * Mi) / n`
        - **例子**: (120-130)组出现4次，(130-140)组出现5次...
        - **计算**: `(4*125 + 5*135 + ...)`
        - **使用前提**: 组内数据**分布要均匀**。如果数据偏斜（如组内数据都是121，但用125代替），则误差会很大。
- **统计意义**:
    1.  是进行统计分析和推断的基础。
    2.  从统计思想看，是数据的**重心**所在，是数据误差相互抵消后的必然结果。

#### 1.1.3.2 几何平均数 (Geometric Mean)
- **核心应用**: 计算与**“率”**相关的数据的平均值，特别是**平均增长率**或**平均收益率**。
- **核心思想**: 寻找一个**恒定的收益率 (R)**，使其在**复利**作用下，最终达到的总价值与实际波动的收益率所达到的总价值**等价**。

> [!EXAMPLE] 4年平均收益率计算过程复刻
> - **背景**: 一项投资4年，初始资金为`Y0`，每年的收益率分别为 `r1=4.5%`, `r2=2.1%`, `r3=25.5%`, `r4=1.9%`。
> 1.  **实际产品4年后价值 (Y4)**:
>     `Y4 = Y0 * (1+r1) * (1+r2) * (1+r3) * (1+r4)`
> 2.  **等价的固定收益产品4年后价值 (Z4)**:
>     假设其固定年收益率为 `R`。
>     `Z4 = Y0 * (1+R)⁴`
> 3.  **令两者等价**: `Y4 = Z4`
>     `Y0 * (1+r1)*(1+r2)*(1+r3)*(1+r4) = Y0 * (1+R)⁴`
> 4.  **求解 R**:
>     - 两边消去 `Y0`。
>     - `1 + R = [ (1+r1)*(1+r2)*(1+r3)*(1+r4) ] ^ (1/4)`
>     - `R = n√[Π(1+ri)] - 1`  (其中 `n=4`)
> - **结论**: 计算出的`R` (8.5%) 就是这4年的平均收益率。它描述了虽然收益率在波动，但如果换成一个固定的复利产品，年化8.5%可以达到完全相同的最终效果。

### 1.1.4 众数、中位数、平均数的关系

> [!IMPORTANT] 核心考点
> 考试常给出**箱线图**，要求判断分布形状，并由此推断三者的大小关系。
> **解题步骤**: 箱线图 → 判断左偏/右偏 → 根据偏态判断三者关系。

- **记忆技巧**: **中位数永远在中间**。
    - **右偏 (Positive Skew)**: 有**较大的极端值**把数据向**右**拉。
        - **影响**: 平均数受影响最大，被拉到最右边。众数不受影响。
        - **关系**: **众数 < 中位数 < 平均数**
    - **左偏 (Negative Skew)**: 有**较小的极端值**把数据向**左**拉。
        - **影响**: 平均数受影响最大，被拉到最左边。
        - **关系**: **平均数 < 中位数 < 众数**
    - **对称分布 (Symmetrical)**:
        - **关系**: **平均数 = 中位数 = 众数**



---
## 1.2 离散程度 (Measures of Dispersion)
> [!NOTE] 定义
> 反映的是各变量值**远离其中心值**的程度。

### 1.2.1 异众比率 (Index of Qualitative Variation)
- **定义**: 非众数组的频次占总频次的比例，衡量**众数代表性**的指标。
- **公式**: `1 - (众数组的频次 / 总频次)`
- **解读**:
    - 异众比率越小，说明众数占比越大，代表性越强。
    - 异众比率越大，说明数据越分散，众数代表性越弱。

### 1.2.2 四分位差 (Interquartile Range, IQR)
- **定义**: 上四分位数与下四分位数之差，也称**四分位极差**。
- **公式**: `IQR = QU - QL`
- **解读**:
    - 反映了**中间50%数据**的离散程度。
    - IQR越小，数据越集中；IQR越大，数据越分散。
    - 在一定程度上说明了**中位数**对该组数据的代表程度。

### 1.2.3 极差 (Range)
- **定义**: 一组数据的最大值与最小值之差。
- **公式**: `Range = Max - Min`
- **特点**:
    1.  计算简单，易于理解。
    2.  **最容易受到极端值的影响**。
        - **与平均数的对比**: 一个数增加1万，极差就直接增加1万；而平均数只会增加 `1万/n`，影响被分摊了。
    3.  只能反映两端情况，**不能反映中间数据的分散情况**。

### 1.2.4 平均差 (Mean Absolute Deviation, MAD)
- **定义**: 各变量值与其平均数离差**绝对值**的平均数。
- **公式**: `MAD = Σ|Xi - X̄| / n`
- **解读**:
    - 加绝对值是为了避免离差之和恒为零 (`Σ(Xi - X̄) = 0`) 的问题。
    - 意义清晰，但由于绝对值在数学上处理不便（如求导困难），所以**应用较少**。

### 1.2.5 方差 (Variance) 与 标准差 (Standard Deviation)
- **核心思想**: 用**平方**代替绝对值来消除正负离差的抵消问题，数学性质更好。
- **方差公式 (样本)**: `s² = Σ(Xi - X̄)² / (n-1)`
- **标准差公式 (样本)**: `s = √[Σ(Xi - X̄)² / (n-1)]`
- **关键概念**:
    - **自由度 (n-1)**:
        - **定义**: 附加给独立观测值的约束或限制的个数。
        - **解释**: 样本中有n个独立的观测值，但在计算方差时，我们引入了一个约束条件 `Σ(Xi - X̄) = 0` (或`ΣXi = nX̄`)，这使得只有n-1个值可以自由变化。
    - 是**应用最广**的离散程度测度值。

#### 1.2.5.1 基于标准差的应用
1.  **经验法则 (Empirical Rule)**
    - **适用条件**: 数据分布**对称**（近似正态分布）。
    - **法则**:
        - `(X̄ - s, X̄ + s)` 范围内约包含 **68%** 的数据。
        - `(X̄ - 2s, X̄ + 2s)` 范围内约包含 **95%** 的数据。
        - `(X̄ - 3s, X̄ + 3s)` 范围内约包含 **99.7%** 的数据。
    - **应用**: **质量控制**中的 **3-Sigma原则**。落在 `(X̄ ± 3s)` 之外的数据点被视为**离群点 (Outliers)**。

2.  **切比雪夫不等式 (Chebyshev's Inequality)**
    - **适用条件**: **任意分布**的数据。
    - **法则**: 对于任意 `k > 1`，至少有 `(1 - 1/k²)` 的数据落在 `(X̄ ± ks)` 范围内。
    - **例子**:
        - `k=2`: 至少有 `1 - 1/4 = 75%` 的数据落在 `(X̄ ± 2s)` 内。
        - `k=3`: 至少有 `1 - 1/9 ≈ 89%` 的数据落在 `(X̄ ± 3s)` 内。

### 1.2.6 离散系数 (Coefficient of Variation, CV)
- **核心目的**: 消除**量纲 (计量单位)** 和 **数据本身量级 (水平高低)** 的影响，进行相对离散程度的比较。
- **公式**: `CV = s / |X̄|`
- **适用场景**:
    1.  **两组数据量纲不同**: 比较身高(cm)的离散性和体重(kg)的离散性。
    2.  **两组数据均值相差悬殊**: 比较婴儿身高(均值90cm)和成人身高(均值170cm)的离散性。
- **解读逻辑**:
    - `CV` 是一个无量纲的相对值，`CV` 越大，相对离散程度越大。
    - **特殊情况**: 如果一组数据均值小、标准差反而大（如 X̄1 < X̄2, 但 s1 > s2），则无需计算CV，可直接判断第一组数据离散程度更大。CV主要用于解决 `X̄` 和 `s` 同向变化时（均值大，标准差也大）的比较难题。

---
## 1.3 分布的形状 (Measures of Shape)

### 1.3.1 偏态 (Skewness)
- **定义**: 描述数据分布**对称性**的程度。
- **偏态系数 (SK)**:
    - **公式 (推荐)**: `SK = (Σ(Xi - X̄)³) / n / s³` (三阶中心矩 / 标准差的立方)
    - **解读**:
        - `SK > 0`: **右偏态 (正偏)**
        - `SK < 0`: **左偏态 (负偏)**
        - `SK = 0`: **对称**
    - **偏斜程度**:
        - `0.5 ≤ |SK| < 1`: 中等偏态
        - `|SK| ≥ 1`: 高度偏态
- **知识串联**: **箱线图** → **右偏** → **SK > 0** → **众数 < 中位数 < 平均数**

### 1.3.2 峰度 (Kurtosis)
- **定义**: 描述数据分布形态的**尖峭或平坦**程度，是与**标准正态分布**相比较而言的。
- **峰度系数 (K)**:
    - **公式 (推荐)**: `K = [ (Σ(Xi - X̄)⁴) / n / s⁴ ] - 3` (四阶中心矩 / 标准差的四次方, 再减3)
    - **-3的意义**: 标准正态分布按此公式计算出的峰度值恰好为3，减去3是为了将正态分布作为基准(K=0)。
- **解读**:
    - `K > 0`: **尖峰厚尾 (Leptokurtic)**
        - 分布比正态分布更**尖峭**。
        - 分布的两端（尾部）比正态分布**更厚**（即出现极端值的概率更高）。
    - `K < 0`: **平峰细尾 (Platykurtic)**
        - 分布比正态分布更**平坦**。
        - 分布的两端（尾部）比正态分布**更细**（即出现极端值的概率更低）。



## 1.4 总结表格

| 测度类别     | 测度值 (Measure)      | 核心定义/公式                       | 主要特点与解读                  | 适用场景/考点               |                   |                     |
| :------- | :----------------- | :---------------------------- | :----------------------- | :-------------------- | ----------------- | ------------------- |
| **集中趋势** | **众数 (Mode)**      | 出现次数最多的值                      | 不受极端值影响；可有多个或没有；代表性看异众比率 | 分类数据；数据量大时            |                   |                     |
|          | **中位数 (Median)**   | 排序后居于中间位置的值                   | 不受极端值影响；唯一且一定存在          | 顺序数据；有极端值的数据          |                   |                     |
|          | **算术平均数 (Mean)**   | `X̄ = ΣXi / n`                | 易受极端值影响；是数据重心；数学性质好      | 数值型数据；统计推断基础          |                   |                     |
|          | **几何平均数 (G-Mean)** | `n√[Π(1+ri)] - 1`             | 用于计算平均比率，考虑复利效应          | 计算平均增长率、平均收益率         |                   |                     |
| **离散程度** | **极差 (Range)**     | `Max - Min`                   | 计算简单；最易受极端值影响；只反映两端情况    | 快速了解数据波动范围            |                   |                     |
|          | **四分位差 (IQR)**     | `QU - QL`                     | 不受极端值影响；反映中间50%数据的离散程度   | 与中位数配合使用；判断离群点(箱线图)   |                   |                     |
|          | **方差/标准差 (s², s)** | `s² = Σ(Xi - X̄)² / (n-1)`    | 应用最广；数学性质好；受极端值影响        | 衡量数据整体波动；经验法则、切比雪夫不等式 |                   |                     |
|          | **离散系数 (CV)**      | `CV = s /                     | X̄                       | `                     | 消除量纲和量级影响的相对离散度指标 | 比较不同单位或不同均值水平数据的离散性 |
| **分布形状** | **偏态系数 (SK)**      | `SK = (Σ(Xi - X̄)³) / n / s³` | >0右偏, <0左偏；衡量分布对称性       | 结合箱线图判断偏斜方向及三者关系      |                   |                     |
|          | **峰度系数 (K)**       | `K = [ (Σ...)⁴ / ns⁴ ] - 3`   | >0尖峰厚尾, <0平峰细尾；衡量分布尖峭程度  | 描述分布形态，与正态分布比较        |                   |                     |
