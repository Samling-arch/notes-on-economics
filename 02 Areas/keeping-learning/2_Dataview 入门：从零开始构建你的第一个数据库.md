好的，没问题！我会帮你把这些内容整理成 Obsidian Markdown 格式，并且会尽可能详细地解释每一个步骤和概念，让你这个小白也能轻松上手 Dataview。我们会一步一步来，就像 Yvonne 老师说的那样，从实践开始！
# 1 ✨ Dataview 入门：从零开始构建你的第一个数据库 ✨
你好呀！我是来帮你理解 Yvonne 老师 Dataview 教程的小助手。Dataview 是 Obsidian 中一个超级强大的插件，但别担心，我们会从最基础的开始，让你也能用它来搭建自己的“动态表格”数据库！
> **通俗概括**：Dataview 就像一个智能助手，能帮你把散落在笔记库里的信息自动整理成漂亮的表格。
## 1.1 # 第零步：认识 Dataview 和我们的目标
Yvonne 老师的教程旨在通过实践让你学会 Dataview 的核心用法，特别是如何用它来创建一个数据库。
*   **什么是数据库？**
    *   简单说，就是把你的笔记变成一个大的、可以动态更新的表格。
    *   每一条数据本身是一篇独立的笔记，但在 Dataview 视图中，可以横向管理和编辑不同笔记的信息。
*   **学习方法**：
    1.  先动手实践，直接用 Dataview 创建一个数据库。
    2.  再系统学习理论、语法和逻辑。
*   **核心内容**：教程会分享最便捷、精简的方法，实际用到的语法可能不到一张 A4 纸的内容，但能完成 $80\%$ 的数据库需求。
> **通俗概括**：我们会先跟着教程做一个书籍数据库的例子，做完之后你就会对 Dataview 有个直观的感受，然后再回头看理论就更容易明白了。
## 1.2 # 第一步：安装 Dataview 插件
这是我们使用 Dataview 的前提。
1.  **打开 Obsidian 设置**：
    *   点击 Obsidian 左下角的齿轮⚙️图标，进入“设置 (Settings)”。
2.  **进入社区插件市场**：
    *   在设置菜单中，找到并点击“社区插件 (Community plugins)”。
    *   如果之前没有开启过，需要先点击“开启社区插件 (Turn on community plugins)”。
3.  **浏览并安装 Dataview**：
    *   点击“浏览 (Browse)”按钮，进入社区插件市场。
    *   通常 Dataview 会在列表的前几个，你也可以在搜索框输入 `Dataview` 来查找。
    *   找到 Dataview 插件后，点击它。
    *   然后点击“安装 (Install)”按钮。
    *   等待一小会儿，安装完成后，按钮会变成“启用 (Enable)”。
4.  **启用插件**：
    *   点击“启用 (Enable)”按钮。
    *   这样 Dataview 插件就成功安装并启动了！不需要做其他额外设置。
> **通俗概括**：就像给你的手机安装一个新 App 一样，我们在 Obsidian 里安装并启用了 Dataview 这个“App”。
## 1.3 # 第二步：创建第一个 Dataview 查询
现在我们来创建一个新的笔记，并尝试输入第一条 Dataview 指令。
1.  **创建新笔记**：
    *   在你的 Obsidian 库中创建一个新的笔记，命名为 `Books` (或者你喜欢的任何名字，比如“我的书库”)。
2.  **输入 Dataview 代码块**：
    *   在这篇 `Books` 笔记中，输入三个反引号 ` ``` `。
        *   **Obsidian 小细节**：当你输入三个反引号并按下回车时，Obsidian 通常会自动补全，在下一行也加上三个反引号，并把光标放在中间。
        ```
        ``` <-- 你输入这个
        光标在这里
        ``` <-- Obsidian 自动补全
        ```
    *   **什么是代码块 (Code Block)？**
        *   **通俗概括**：代码块就是一块特殊的区域，能让里面的文字保持“原样”显示，不会被 Markdown 的加粗、斜体等语法影响。
        *   **举个例子**：
            *   在普通地方写 `**加粗**` 会显示为 **加粗**。
            *   但在代码块里写 `**加粗**`，它就只会显示 `**加粗**` 这几个字，不会真的加粗。
            ```markdown
            这是一个普通段落，**这里会加粗**。
            ```
            **这段文字在代码块里，所以不会加粗**
            ```
            ```
        *   **指定语言**：在第一行三个反引号后面，可以加上语言名称，比如 `python`，代码块会根据该语言的语法进行高亮显示。这对程序员非常方便。
            ```python
            # 这是一段 Python 代码示例
            def hello():
                print("Hello, Dataview!")
            ```
3.  **编写 Dataview 指令**：
    *   对于 Dataview，我们需要在第一行三个反引号后面写上 `dataview`。
        ```dataview
        ```
    *   然后，在代码块内部，我们输入第一条指令：`TABLE`。
        *   `TABLE`：告诉 Dataview，我们希望结果以表格 (table) 的形式展示。
        ```dataview
        TABLE
        ```
    *   接着，在下一行输入 `FROM ""`。
        *   `FROM`：告诉 Dataview 从哪里 (from where) 获取数据。
        *   `""` (一对空的双引号)：代表整个 Obsidian 笔记库的根目录，也就是你所有的笔记。
        ```dataview
        TABLE
        FROM ""
        ```
4.  **查看结果**：
    *   当你把光标从这个 Dataview 代码块中移开 (比如点击笔记的其他地方，或者切换到阅读视图)，Dataview 就会开始执行这些指令。
    *   你会看到一个表格出现了！这个表格会列出你笔记库中所有的文件 (比如教程中提到的 `$1443$` 个文件)，每一行都是一个可以点击的文件链接。
    **`Books.md` 文件内容示例：**
    ```markdown
    # 我的书库
    ```dataview
    TABLE
    FROM ""
    ```
    ```
> **通俗概括**：我们写了两行简单的“咒语”（Dataview 指令），告诉 Dataview：“请给我一个表格，表格的内容来自我所有的笔记。”
## 1.4 # 第三步：筛选数据 - `FROM` 的进阶用法
显示所有笔记的数据库通常没什么意义，我们需要筛选出特定的数据。
1.  **根据文件夹筛选**：
    *   我们可以修改 `FROM` 后面的双引号内容，指定一个文件夹名。
    *   **示例1**：如果你的笔记库里有一个名为 `Dataview Demo` 的文件夹，并且 `Books.md` 文件就在这个文件夹里。
        ```dataview
        TABLE
        FROM "Dataview Demo" 
        ```
        *   结果：表格只会显示 `Dataview Demo` 文件夹下的文件，比如 `Books.md` 本身。
    *   **示例2**：如果你有一个名为 `Templates` 的文件夹。
        ```dataview
        TABLE
        FROM "Templates"
        ```
        *   结果：表格会列出 `Templates` 文件夹下的所有文件。
    *   **局限性**：这种方法要求你把所有想纳入数据库的笔记都放在同一个文件夹里，管理起来可能不太灵活。
> **通俗概括**：我们可以告诉 Dataview 只从特定的“抽屉”（文件夹）里找笔记。
## 1.5 # 第四步：更灵活的筛选 - 使用笔记属性 (Properties)
Yvonne 老师分享了一个更方便的筛选方法，灵感来自 Nick Milo。这种方法的核心是给笔记添加特定的元数据 (metadata)，也就是“属性”。
1.  **为书籍笔记添加属性**：
    *   暂时离开 `Books.md` 这个笔记。
    *   为每一本你想加入数据库的书，创建一个专属的笔记。笔记标题就用书名，例如 `[[偷师]]` (Steal Like an Artist)。
    *   **打开属性面板 (Properties Panel)**：
        *   在新创建的书籍笔记 (比如 `偷师.md`) 中，最简单的方法是在笔记最开头输入三个短横线 `` 然后按回车，Obsidian 会自动生成属性区域。
        ```yaml
        ```
        *   或者，可以通过命令面板 (Ctrl/Cmd + P) 搜索 "Toggle Properties in document" 或类似命令来显示/隐藏属性面板。
    *   **添加自定义属性**：
        *   在属性面板中，点击“添加属性 (Add property)”。
        *   将属性命名为 `in` (或者任何你喜欢的名字，比如 `标签`, `分类` 等)。
        *   点击属性名旁边的小图标 (通常是个T)，选择属性类型 (Property Type)。这里我们选择“列表 (List)”。
        *   在 `in` 属性的值区域，输入 `[[Books]]`。
            *   `[[Books]]`：这是一个内部链接，指向我们之前创建的 `Books.md` 笔记。这是一种给笔记打上“属于Books数据库”标签的方式。
            *   **属性面板看起来会像这样**：
                ```
                in:
                  - "[[Books]]"
                ```
                (注意：Obsidian 的列表属性在 YAML 中可能会显示为 `- "[[Books]]"`，或者在UI中直接显示 `Books` 链接。)
2.  **修改 `Books.md` 中的 Dataview 查询**：
    *   回到 `Books.md` 笔记。
    *   点击 Dataview 代码块右上角出现的编辑按钮 (通常是一个 `< >` 符号，鼠标悬停会显示 "Edit this block")，或者直接在编辑模式下修改代码。
    *   我们将 `FROM "Templates"` (或 `FROM ""`) 修改回 `FROM ""`，表示从整个库中查找。
    *   然后添加一行新的指令 `WHERE contains(in, [[Books]])`。
        *   `WHERE`：这是一个筛选条件，告诉 Dataview 我们只想要满足特定条件的笔记。
        *   `contains(field, value)`：这是一个函数，检查名为 `field` 的属性中是否包含 `value`。
        *   `in`：就是我们刚刚在书籍笔记中添加的属性名。
        *   `[[Books]]`：就是我们希望该属性包含的值。
        *   **整句指令的含义**：Dataview 会查找所有笔记，找出那些 `in` 属性中包含了 `[[Books]]` 这个链接的笔记。
    **`Books.md` 文件内容更新后：**
    ```markdown
    # 我的书库
    ```dataview
    TABLE
    FROM ""
    WHERE contains(in, [[Books]])
    ```
    ```
    *   当你移开光标，就会看到 `[[偷师]]` 这本添加了 `in: [[Books]]` 属性的笔记出现在表格里了！
3.  **添加更多书籍**：
    *   再创建一本新书的笔记，例如 `[[点石成金]]` (Don't Make Me Think)。
    *   同样地，给它添加 `in` 属性，并设置值为 `[[Books]]`。
        *   **Obsidian 小技巧**：当你开始输入 `[[Books` 时，Obsidian 通常会自动弹出建议，你可以直接点击选择。
    *   回到 `Books.md`，你会发现 `[[点石成金]]` 也自动被添加到了 Dataview 表格中。
> **通俗概括**：我们给每本“书”笔记贴上了一个特殊的“标签”（比如 `in: [[Books]]`），然后告诉 Dataview：“请把所有贴了这个标签的笔记都找出来，放到表格里。”
## 1.6 # 第五步：为数据库添加字段 (列)
现在我们的表格只有一列，显示文件名。我们想看到更多信息，比如书的作者。
1.  **在书籍笔记中添加更多属性**：
    *   打开 `[[偷师]]` 这本书的笔记。
    *   在属性面板中，添加一个新的属性，比如 `author` (作者)。
    *   设置属性类型为“列表 (List)” (因为一本书可能有多个作者)。
    *   输入作者名，例如 `Austin Kleon`。
    *   **`偷师.md` 的属性可能如下**：
        ```yaml
        in:
          - "[[Books]]"
        author:
          - Austin Kleon
        ```
2.  **修改 `Books.md` 中的 `TABLE` 指令**：
    *   回到 `Books.md`。
    *   在 `TABLE` 关键字后面，空一格，然后输入你想显示的属性名，比如 `author`。
        ```dataview
        TABLE author
        FROM ""
        WHERE contains(in, [[Books]])
        ```
    *   移开光标，你会发现表格现在有两列了：
        1.  `File` (文件名，这是 Dataview 默认会显示的第一列，除非你用 `TABLE WITHOUT ID ...`)
        2.  `author` (作者)
    *   如果某本书没有填写 `author` 属性，那么在表格的作者列，对应的那一行会是空的。
> **通俗概括**：我们想在表格里看到书的作者，所以先在每本书的笔记里记下作者是谁，然后告诉 Dataview：“在表格里也把作者这一栏显示出来。”
## 1.7 # 第六步：理解属性类型 (Property Types)
给属性选择正确的类型非常重要，它决定了我们如何记录和使用这些数据。
*   **把属性看作“问答表格”**：
    *   属性名 (如 `author`) 是“问题”。
    *   属性值 (如 `Austin Kleon`) 是“答案”。
    *   属性类型 (如 `List`) 是“答案的格式”。
*   **Obsidian 提供的常用属性类型**：
    1.  **文本 (Text)**：
        *   **通俗概括**：就是一段普通的文字。
        *   **用途**：可以输入任何文本内容。如果不知道选什么类型，可以先选这个。
        *   **示例**：书的简介、备注。
    2.  **列表 (List)**：
        *   **通俗概括**：相当于多选题，可以选一个或多个选项。
        *   **用途**：预设一些选项，方便选择。比如书籍分类、标签。
        *   **示例**：`in: [[Books]]`, `author: Austin Kleon, J.K. Rowling` (如果一个属性有多个值，它们都是这个列表的一部分)。
        *   **Obsidian 小技巧**：当你在一个列表类型的属性中输入时，Obsidian 会提示已在其他笔记中使用过的该属性的值，方便复用。
    3.  **数字 (Number)**：
        *   **通俗概括**：只能输入数字，可以是正数、负数或小数。
        *   **用途**：评分、页数、价格等。
        *   **示例**：`rating: 5`, `pages: 256`。
    4.  **复选框 (Checkbox)**：
        *   **通俗概括**：得到一个可以打勾的小方框，代表“是”或“否”。
        *   **用途**：记录是/否状态，比如“是否读完”、“是否购买”。
        *   **示例**：`read: true` (打勾) / `read: false` (不打勾)。
    5.  **日期 (Date)**：
        *   **通俗概括**：选择一个日期。
        *   **用途**：记录出版日期、阅读开始/结束日期。
        *   **示例**：`publish_date: 2023-10-26`。
    6.  **日期与时间 (Date & Time)**：
        *   **通俗概括**：选择一个日期和具体时间。
        *   **用途**：更精确的时间记录。
        *   **示例**：`last_read_time: 2023-10-26 14:30`。
> **通俗概括**：给不同的信息选择合适的“填写格式”（属性类型），比如姓名用文本，评分用数字，读没读完用复选框，这样数据才规范，Dataview 也好处理。
Yvonne 老师提到，后面章节会更详细介绍如何用 Dataview 语法筛选不同属性类型的数据。现在先有个概念就好。
## 1.8 # 第七步：添加更多有用的字段
我们继续给书库添加更多信息。
1.  **添加“持有状态 (Hold Status)”字段**：
    *   **目的**：追踪书是实体书、电子书还是借的。
    *   **步骤**：
        1.  在书籍笔记 (如 `[[偷师]]`) 的属性中，添加新属性 `持有状态`。
        2.  属性类型选择“列表 (List)” (因为一本书可能同时有实体版和电子版，但教程例子中似乎是单选的，我们先按单选理解，如果需要多选，List类型也支持)。
        3.  输入值，例如 `实体书`。
        4.  **`偷师.md` 属性可能如下**：
            ```yaml
            in:
              - "[[Books]]"
            author:
              - Austin Kleon
            持有状态:
              - 实体书
            ```
        5.  回到 `Books.md`，修改 `TABLE` 指令，添加 `"持有状态"`。用英文逗号和空格隔开不同的字段名。
            *   **注意**：如果你的属性名包含空格或特殊字符 (比如中文)，在 `TABLE` 指令中最好用双引号 `""` 把属性名包起来，例如 `TABLE author, "持有状态"`。虽然有时不加也能工作，但加上更保险。
            ```dataview
            TABLE author, "持有状态"
            FROM ""
            WHERE contains(in, [[Books]])
            ```
        6.  表格会增加一列“持有状态”。
    *   **为其他书补充信息**：如果 `[[点石成金]]` 笔记中没有 `author` 和 `持有状态` 属性，表格中对应行会是空的。我们需要去 `[[点石成金]]` 笔记中补上这些属性。
2.  **建立“数据库使用说明”**：
    *   **重要性**：当数据库越来越复杂，或者长时间不用后，一份说明书能帮你快速回忆起当初的设计思路和使用规则。
    *   **做法**：在 `Books.md` 笔记的 Dataview 代码块 *上方*，添加说明内容。
        ```markdown
        # 我的书库使用说明
        ## 功能
        这个数据库用来收集和管理我拥有的或想读的书籍。
        ## 字段清单 (Properties)
        - `in`: (列表 List) 必须包含 `[[Books]]`，用于 Dataview 筛选。**必填**。
        - `author`: (列表 List) 书籍作者。
        - `持有状态`: (列表 List) 记录书籍的物理或数字状态。**必填**。
            - 实体书
            - 电子书 (读墨)
            - 电子书 (Kindle)
            - 图书馆 (家里附近)
            - 图书馆 (HyRead 电子图书馆)
            - 未拥有
        - ... (后续添加更多字段)
        (这里是分割线，下面是 Dataview 代码块)
        ```dataview
        TABLE author, "持有状态"
        FROM ""
        WHERE contains(in, [[Books]])
        ```
        ```
    *   **标记必填项和可选类型**：在说明中注明哪些字段是必填的，哪些字段是可选的，以及字段可能的取值范围。
3.  **添加“阅读状态 (Reading Status)”字段**：
    *   **目的**：追踪书籍的阅读进度。
    *   **属性设置**：
        *   名称：`阅读状态`
        *   类型：“列表 (List)” (因为 Yvonne 老师后来发现状态可能重叠，比如“已读”但又“想重读”，所以改成了可多选)
        *   可能的值：
            *   阅读中
            *   想读
            *   已读
            *   暂停 (读了一半暂时不想读了)
            *   参考书 (工具书，随时查阅)
    *   **更新说明文档和 Dataview 表格**：
        1.  在 `Books.md` 的“字段清单”中添加 `阅读状态` 的说明。
        2.  在书籍笔记中添加 `阅读状态` 属性并赋值。
        3.  在 `Books.md` 的 `TABLE` 指令中添加 `"阅读状态"`。
            ```dataview
            TABLE author, "持有状态", "阅读状态"
            FROM ""
            WHERE contains(in, [[Books]])
            ```
4.  **添加“备注 (Note)”和“一句话总结 (OneLiner)”字段**：
    *   **目的**：
        *   `备注`: 记录与这本书相关的具体行动或想法 (如购买计划、笔记重点)。
        *   `一句话总结`: 用自己的话概括这本书的核心内容。
    *   **属性设置**：
        *   名称：`备注`，`一句话总结`
        *   类型：“文本 (Text)” (因为是纯文本描述)
    *   **更新说明文档和 Dataview 表格**。
        ```dataview
        TABLE author, "持有状态", "阅读状态", "备注", "一句话总结"
        FROM ""
        WHERE contains(in, [[Books]])
        ```
> **通俗概括**：我们不断给书添加新的描述信息（如“持有状态”、“阅读状态”），并在数据库的“说明书”里记录好每个信息栏的规则，同时让表格也显示这些新信息。
## 1.9 # 第八步：添加书籍封面图片
让数据库更美观！有两种方法添加封面。
1.  **方法一：使用“行内字段 (Inline Field)”直接嵌入图片 (简单但不完美)**
    *   **什么是行内字段？**
        *   **通俗概括**：直接在笔记的正文内容里，用 `字段名:: 值` 的格式来记录信息，而不是在顶部的属性区域。
        *   **格式**：`字段名:: 值` (注意是两个英文冒号 `::`)。冒号后面的所有内容（直到换行）都会被视为该字段的值。
    *   **操作步骤**：
        1.  打开一本具体的书籍笔记，比如 `[[偷师]]`。
        2.  在笔记的正文区域 (不是属性区域)，输入 `封面图片::`。
        3.  然后把书籍的封面图片文件直接拖拽到 `::` 后面。Obsidian 会自动生成图片的嵌入链接，形如 `![[图片名.png]]`。
            ```markdown
            in: ["[[Books]]"]
            author: ["Austin Kleon"]
            ...
            这本书很有启发性。
            封面图片:: ![[steal_like_an_artist_cover.png]] 
            ```
        4.  回到 `Books.md`，在 `TABLE` 指令中添加 `"封面图片"`。
            ```dataview
            TABLE author, "持有状态", "阅读状态", "备注", "一句话总结", "封面图片"
            FROM ""
            WHERE contains(in, [[Books]])
            ```
        5.  表格中会显示图片。
    *   **缺点**：
        *   如果想在笔记中调整图片大小，比如用 `![[图片名.png|300]]` (表示宽度为 $300$像素)，这个大小调整 *也可能* 会影响到 Dataview 表格中图片的显示大小 (取决于 Dataview 的渲染方式和主题)，可能导致表格中图片过大或过小，不够美观。
2.  **方法二：使用“属性”配合笔记内嵌图片 (推荐，更灵活)**
    *   **操作步骤**：
        1.  打开书籍笔记 `[[偷师]]`。
        2.  在顶部的**属性 (Properties)**区域，添加一个新属性：
            *   名称：`封面图片` (或者 `cover_image` 等)
            *   类型：“文本 (Text)”
            *   值：粘贴图片的基本嵌入链接，即 `![[图片名.png]]` (不带尺寸控制)。
            ```yaml
            in: ["[[Books]]"]
            author: ["Austin Kleon"]
            持有状态: ["实体书"]
            封面图片: "![[steal_like_an_artist_cover.png]]" 
            ```
        3.  在笔记的**正文内容**中，如果你想单独显示并控制图片大小，可以再嵌入一次图片，并加上尺寸控制：
            ```markdown
            ## 基本信息
            ![[steal_like_an_artist_cover.png|300]] 
            这本书很有启发性。
            ```
            这样，笔记正文里显示的图片是 $300$像素宽，而提供给 Dataview 的是属性中的原始图片链接。
        4.  Dataview 表格会从 `封面图片` 这个属性中读取图片链接来显示。这样，笔记正文的图片大小和 Dataview 表格中的图片大小可以独立开。Dataview 表格中的图片会根据单元格大小自动缩放，或者你可以用 CSS Snnipet 进一步控制。
    *   **优点**：笔记内图片大小可控，Dataview 表格内图片显示更和谐。Yvonne 老师更喜欢这种方法。
    *   **别忘了**：在 `Books.md` 的“字段清单”中记录 `封面图片` 这个属性。
> **通俗概括**：给书加上封面，可以用简单直接的方法，也可以用稍微麻烦一点但效果更好的方法。推荐第二种，这样笔记里看的图片大小和数据库表格里看的图片大小可以不一样。
## 1.10 # 第九步：创建书籍模板
每次都手动添加那么多属性太麻烦了，用模板能大大提高效率！
1.  **整理一本现有书籍笔记作为模板基础**：
    *   选择一本属性比较齐全的书籍笔记 (比如 `[[偷师]]`)。
    *   Yvonne 老师的个人习惯是：
        *   笔记顶部：属性区 (Properties)。
        *   属性区下方：书籍总结 (她用 ` `行内代码块` ` 标记)。
        *   中间：书籍基本信息，包含封面图片、阅读起止时间等。
        *   笔记底部：用一个 H1 标题标记为“随手记”，可以无顾虑地记录任何内容。
        ```markdown
        in: ["[[Books]]"]
        author: ["Austin Kleon"]
        持有状态: ["实体书"]
        阅读状态: ["已读"]
        备注: "常看常新"
        一句话总结: "从模仿开始创新。"
        封面图片: "![[steal_like_an_artist_cover.png]]"
        `SUMMARY PLACEHOLDER`
        ## 基本信息
        ![[steal_like_an_artist_cover.png|300]]
        阅读开始：2023-01-01
        阅读结束：2023-01-07
        ## 随手记
        (这里可以写很多笔记内容...)
        ```
2.  **复制并创建模板文件**：
    *   在文件浏览器中找到这篇笔记，右键点击，选择“复制 (Duplicate)”。
    *   将复制出来的文件重命名为模板名，例如 `书籍收藏模板`。
3.  **清理模板内容**：
    *   打开 `书籍收藏模板.md`。
    *   删除所有非通用内容 (比如具体的作者名、书名、一句话总结、图片等)，只留下属性的“框架”和必要的固定值。
    *   **非常重要**：`in: [[Books]]` 这个属性和值一定要保留，否则基于此模板创建的笔记将不会被我们的 Dataview 查询捕获。
    *   图片链接也可以删掉，或者用占位符图片。
    *   **清理后的模板示例**：
        ```markdown
        in:
          - "[[Books]]"
        author:
          - 
        持有状态:
          - 
        阅读状态:
          - 
        备注: 
        一句话总结: 
        封面图片: 
        书籍分类:  # (如果后面添加了这个字段)
          - 
        `一句话总结放这里`
        ## 基本信息
        <!-- 在这里插入封面图片 -->
        阅读开始：
        阅读结束：
        ## 随手记
        ```
4.  **设置模板文件夹并移动模板**：
    *   **启用模板核心插件**：
        *   设置 -> 核心插件 (Core plugins) -> 确保“模板 (Templates)”插件已启用。
    *   **配置模板文件夹**：
        *   设置 -> 模板 (Templates) -> 在“模板文件夹位置 (Template folder location)”中输入你的模板文件夹名，比如 `Templates`。
        *   确保你的笔记库中确实有一个名为 `Templates` 的文件夹。如果没有，就创建一个。
    *   **移动模板文件**：
        *   将 `书籍收藏模板.md` 文件移动到 `Templates` 文件夹中。(可以用 Ctrl/Cmd + M 快捷键，或者直接拖拽)
> **通俗概括**：我们做了一个笔记的“填空模板”，以后每加一本新书，直接用这个模板，把空填上就行，省事多了！
## 1.11 # 第十步：从 Dataview 中排除模板文件
模板文件本身不应该出现在我们的书籍数据库中。
1.  **问题**：创建了模板并放入 `Templates` 文件夹后，这个模板文件 `书籍收藏模板.md` 自身可能因为也包含了 `in: [[Books]]` (虽然我们一般会在模板里清空具体值，但如果保留了，或者它被其他方式错误识别) 而出现在 Dataview 表格里。
    *   更常见的情况是，如果模板文件本身也带有 `in: [[Books]]` 这个属性（即使它的值是空的，某些宽松的 `contains` 判断也可能捕获它，或者其他条件）。最主要的是，我们不希望任何在 `Templates` 文件夹里的文件被视为数据。
2.  **解决方法**：修改 `Books.md` 中的 Dataview 查询，添加一个排除条件。
    *   在 `WHERE` 条件之后，新起一行，加入：
        `WHERE !contains(file.path, "Templates")`
        *   `file.path`：代表文件的完整路径 (包含文件夹名)。
        *   `!contains(text, substring)`：表示 `text` 中 *不包含* `substring`。
        *   这句指令的意思是：文件的路径中不能包含 "Templates" 这个词。
        *   **注意**：如果你的模板文件夹不叫 `Templates`，比如叫 `我的模板`，那这里就要相应修改为 `!contains(file.path, "我的模板")`。
    **`Books.md` Dataview 查询更新后：**
    ```dataview
    TABLE author, "持有状态", "阅读状态", "备注", "一句话总结", "封面图片"
    FROM ""
    WHERE contains(in, [[Books]])
    WHERE !contains(file.path, "Templates") 
    ```
    *   Dataview DQL (Data Query Language) 中，连续的 `WHERE` 子句是AND关系。
3.  **检查结果**：模板文件应该从 Dataview 表格中消失了，而正常的书籍笔记还在。
> **通俗概括**：告诉 Dataview：“在整理表格的时候，请忽略掉所有放在‘Templates’这个特殊文件夹里的笔记。”
## 1.12 # 第十一步：完善“数据库使用说明”
让说明书更完整。
1.  **添加模板链接**：
    *   在 `Books.md` 的“使用说明”区域，嵌入模板文件的链接，方便以后快速找到和修改模板。
        ```markdown
        ## 如何添加新书
        1.  使用模板：`[[Templates/书籍收藏模板]]` (假设模板在Templates文件夹下)
        2.  ...
        ```
2.  **记录文件命名规则**：
    *   明确新书笔记的文件名如何取。 Yvonne 老师的例子是用书名号包裹书名：`《书名》.md`。
        ```markdown
        ## 文件命名规则
        - 所有书籍笔记统一使用 `《书名》.md` 的格式命名。
        ```
> **通俗概括**：在“说明书”里写清楚模板文件在哪里，以及新书笔记的文件名应该怎么起。
## 1.13 # 第十二步：使用模板添加数据
现在可以高效地录入新书了！
1.  **创建新笔记并应用模板**：
    *   创建一篇新笔记，文件名按照规则来，比如 `《设计心理学》.md`。
    *   按下模板快捷键 (通常是 Ctrl/Cmd + P 打开命令面板，然后搜索 "Template: Insert template" 并选择你的书籍模板)，或者通过其他方式插入模板内容。
2.  **填写表单 (属性)**：
    *   依次填写作者、持有状态、阅读状态等属性。
    *   备注和一句话总结如果没有，可以先空着。
3.  **添加封面图片**：
    *   按照之前选择的方法二：
        *   将封面图片拖入笔记正文的“基本信息”部分。
        *   复制图片嵌入链接 (如 `![[design_of_everyday_things_cover.png]]`)。
        *   粘贴到属性区域的 `封面图片` 字段的值中。
        *   在正文的图片链接后加上 `|宽度值` (如 `|250`) 来调整显示大小。
4.  **检查 Dataview 表格**：
    *   回到 `Books.md`，确认新添加的书籍信息都正确显示在表格中了。
*   **关于作者字段的链接**：
    *   Yvonne 老师提到，如果她想对某个作者进行更深入的研究，她会为这个作者创建一个专门的笔记 (比如 `[[唐纳德·诺曼]]`)。
    *   然后在书籍笔记的 `author` 属性中，她会填入这个作者笔记的链接 `[[唐纳德·诺曼]]`，而不是纯文本。
    *   如果不需要深入研究，就直接填文本作者名。
    *   **这样做的好处**：通过链接，实现了不同数据库（书籍库和人物库）之间的交叉引用，类似 Notion 的 Rollup 功能，但原理更简单。
> **通俗概括**：以后加新书，就用模板，一项项填好信息，封面图片也放好，非常方便。如果作者也想单独做笔记，作者名就用链接连过去。
## 1.14 # 第十三步：迭代与新增字段 - 以“书籍分类”为例
数据库的需求是会变化的，我们可能随时需要添加新的字段。
1.  **发现新需求**：
    *   Yvonne 老师发现她的书有很多是关于“生产力”的，还有“心理学”、“文学”等。她希望按主题分类书籍。
2.  **设计新字段“书籍分类 (Book Category)”**：
    *   **先在“使用说明”中规划** (`Books.md`里)：
        *   **字段名**：`书籍分类`
        *   **类型**：“列表 (List)” (一本书可能有多个分类，所以是可多选的)
        *   **是否必填**：可选 (不是每本书都想分类)
        *   **可能的值**：生产力、心理学、文学 (根据自己的藏书和需求定义，不用一开始就加太多)
            ```markdown
            - `书籍分类`: (列表 List) 书籍的主题分类。**可选，可多选**。
                - 生产力
                - 心理学
                - 文学
                - ... (其他你关心的分类)
            ```
    *   **原则**：宁缺毋滥。刚开始字段和选项少一点，根据实际使用中发现的需求再逐步添加。
3.  **在书籍笔记中添加新字段**：
    *   打开一本已有的书，比如 `[[偷师]]`。
    *   在属性面板添加 `书籍分类` 属性，选择“列表”类型，然后勾选或输入分类，比如 `文学`。
4.  **更新 Dataview 表格显示**：
    *   回到 `Books.md`，修改 `TABLE` 指令，加入 `"书籍分类"`。
    *   可以调整字段顺序，比如 Yvonne 老师想让它出现在作者后面：
        ```dataview
        TABLE author, "书籍分类", "持有状态", "阅读状态", "备注", "一句话总结", "封面图片"
        FROM ""
        WHERE contains(in, [[Books]])
        WHERE !contains(file.path, "Templates")
        ```
    *   表格会多出一列“书籍分类”。
5.  **为已有书籍补充新字段信息**：
    *   通过检查表格，会发现之前的书在“书籍分类”列是空的。
    *   **快速打开笔记**：在 Dataview 表格中，按住 Ctrl/Cmd 键再点击文件名链接，可以在新标签页中打开该笔记。
    *   为这些笔记补充 `书籍分类` 属性。
6.  **更新模板**：
    *   **非常重要的一步！** 打开 `[[Templates/书籍收藏模板]]` 文件，把新的 `书籍分类` 属性也添加到模板的属性区域中，这样以后用模板创建新书时就不会漏掉这个字段了。
> **通俗概括**：当发现需要记录书的新信息（比如“书是什么类型的”）时，先在“说明书”里规划好，然后在笔记里加上这个信息，再让表格也显示出来，最后别忘了更新“填空模板”，加上这个新项目。
## 1.15 # 总结与展望
到这里，我们已经：
1.  创建了一个书籍数据库。
2.  这个数据库有 $7$ 个列 (字段)，收集 $7$ 种不同的信息。
3.  使用模板添加了若干本 (教程中是 $9$ 本) 书籍数据，形成了一个 $7 \times 9$ 的动态表格。
这个表格已经很好看了，但 Dataview 的能力远不止于此！
Yvonne 老师的下一个视频会讲更酷的内容：
*   设置不同条件来筛选特定的数据。
*   为数据库添加各种实用的查看模式 (Views)。
> **通俗概括**：我们已经成功搭建了一个漂亮的书籍信息总览表！接下来可以学习怎么让这个表更智能，比如只看“心理学”的书，或者只看“还没读”的书。
希望这份详细的步骤和解释能帮助你理解 Yvonne 老师的教程！动手试试看，你会发现 Dataview 真的很有用！如果在实践中遇到任何问题，欢迎随时提问。