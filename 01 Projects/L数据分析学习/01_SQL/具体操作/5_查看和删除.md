好的，没问题！我会按照Obsidian的Markdown格式，用通俗易懂的语言，为你详细解析苑昊老师课程中关于MySQL查看表和删除表的内容。我会努力解释每一个细节，让你这个$0$基础的小白也能轻松理解。

---

# 1 MySQL从基础到进阶 - 查看表和删除表

> 课程来源：苑昊老师 B站视频 BV1mxrfYsEyP
> 讲解时间：$2024-12-18$ $15:23:40$ (这是视频中老师提到的时间，实际可能是未来的一个标记)

**通俗概括本节课：** 这节课主要教我们两件简单但常用的事情：怎么看一个数据库里有哪些“小本子”（表），怎么看每个“小本子”的“目录结构”（表结构），以及怎么把不用的“小本子”扔掉（删除表）。

---

## 1.1 一、准备工作：确认当前在哪个“抽屉”（数据库）

**通俗概括：** 在我们开始查看或删除“小本子”（表）之前，总得先知道我们现在打开的是哪个“大抽屉”（数据库）吧？不然可能会在错误的“抽屉”里操作。

老师提到，我们可以用 `SELECT DATABASE()` 这个命令来查看当前所在的数据库。

**命令：**
```sql
SELECT DATABASE();
```

**细节解释：**
*   `SELECT`：这是SQL语言里的一个关键字，意思是“查询”或“选择”。当你想从数据库获取信息时，通常会用到它。
*   `DATABASE()`：这是一个MySQL内置的**函数**。你可以把它想象成一个小工具，这个小工具的功能就是告诉你当前连接的MySQL服务器默认使用的是哪个数据库。
    *   **函数是什么？** 就像数学里的 $f(x)$，你给它一个输入（或者有时不需要输入），它就会给你一个输出。这里的 `DATABASE()` 不需要我们给它输入，它会自动找到当前数据库的名字并返回。
    *   **为什么后面有括号 `()`？** 在SQL和很多编程语言里，调用函数时，函数名后面通常会跟着一对圆括号 `()`，即使这个函数不需要参数（输入值）。
*   `;` (分号)：在SQL中，分号是语句的结束标记。告诉MySQL：“嘿，我这条命令说完了，你可以执行了。”

**例子：**
假设我们之前通过 `USE db_day01;` 命令进入了名为 `db_day01` 的数据库。

执行：
```sql
SELECT DATABASE();
```

MySQL可能会返回这样的结果：
```
+------------+
| DATABASE() |
+------------+
| db_day01   |
+------------+
1 row in set (0.00 sec)
```
这表示我们当前就在 `db_day01` 这个数据库里。

---

## 1.2 二、查看表 (Viewing Tables)

**通俗概括：** 这部分教我们几种方法来“侦察”数据库里的表，看看都有哪些表，每个表长什么样（有哪些列，都是什么类型的）。

### 1.2.1 查看当前数据库中的所有表：`SHOW TABLES`

**通俗概括：** 这条命令就像问数据库：“嘿，你这个叫 `db_day01` 的抽屉里都放了哪些小本子（表）啊？把它们的名字都列出来给我看看。”

**命令：**
```sql
SHOW TABLES;
```

**细节解释：**
*   `SHOW`：SQL关键字，用于显示关于数据库对象（比如数据库本身、表、列等）的信息。
*   `TABLES`：SQL关键字，它告诉 `SHOW` 命令，我们想看的是“表”的信息。注意，这里是复数 `TABLES`。
*   **来源/联想：** 老师提到，这和我们之前学习的 `SHOW DATABASES;`（查看所有数据库）非常相似。`SHOW DATABASES;` 是看有哪些“大抽屉”，而 `SHOW TABLES;` 是看当前打开的“大抽屉”里有哪些“小本子”。这种命名上的一致性有助于记忆。

**作用：**
这条命令会列出当前默认数据库中所有表的名称。

**例子：**
假设在 `db_day01` 数据库中，我们已经创建了 `student` 表和 `user` 表。

执行：
```sql
SHOW TABLES;
```

MySQL可能会返回：
```
+--------------------+
| Tables_in_db_day01 |
+--------------------+
| student            |
| user               |
+--------------------+
2 rows in set (0.00 sec)
```
这告诉我们，在 `db_day01` 数据库里，有 `student` 和 `user` 这两张表。

### 1.2.2 查看表的结构（字段详情）：`DESC <表名>`

**通俗概括：** 这条命令是用来仔细看看某个“小本子”（表）里面有哪些“栏目”（字段/列），每个“栏目”是什么类型的（比如是写文字的、还是写数字的），以及有没有什么特殊规定（比如不能为空、是不是“钥匙”等）。**注意：这只看表的“设计图纸”，不看里面具体写的内容（记录）。**

**命令：**
```sql
DESC <表名>;
```
或者完整写法：
```sql
DESCRIBE <表名>;
```

**细节解释：**
*   `DESC`：是 `DESCRIBE` 的缩写，发音像 "D-E-S-C"，意思是“描述”。它告诉MySQL，我们要查看某个东西的详细描述。
*   `<表名>`：这是一个占位符，你需要把它替换成你真正想查看的那个表的具体名字。比如，你想看 `user` 表的结构，就写 `DESC user;`。
*   **它看的是什么？**
    *   **字段 (Field)：** 表中的列名，比如 `name`, `age`, `gender`。
    *   **类型 (Type)：** 每个字段存储的数据类型，比如 `varchar(50)` (可变长度字符串，最多$50$个字符)，`int` (整数)，`char(1)` (固定长度$1$个字符的字符串)。
    *   **NULL约束 (Null)：** 这一列是否允许不填数据（即为`NULL`值）。`YES` 表示可以为空，`NO` 表示不能为空。
    *   **键 (Key)：** 这一列是否是键。
        *   `PRI`: 主键 (Primary Key)，唯一标识一条记录，不能为空。
        *   `UNI`: 唯一键 (Unique Key)，保证这列的值唯一，但可以为空（通常最多一个NULL）。
        *   `MUL`: 多重键 (Multiple Key)，意味着这个字段是一个非唯一的索引的一部分，或者是一个外键。
    *   **默认值 (Default)：** 如果插入数据时没有给这一列指定值，它会自动使用的值。`NULL` 意味着默认就是空。
    *   **额外信息 (Extra)：** 其他一些特殊属性，比如 `auto_increment` (自动增长，常用于主键，每插入一条新记录，这个字段的值会自动加$1$)。

**例子1：查看 `user` 表的结构**
假设 `user` 表结构如老师视频中所示：`name` (字符串), `age` (整型), `gender` (字符串)，都可以为空，没有主键。

执行：
```sql
DESC user;
```

MySQL可能会返回：
```
+--------+------------------+------+-----+---------+-------+
| Field  | Type             | Null | Key | Default | Extra |
+--------+------------------+------+-----+---------+-------+
| name   | varchar(255)     | YES  |     | NULL    |       |
| age    | int              | YES  |     | NULL    |       |
| gender | varchar(255)     | YES  |     | NULL    |       |
+--------+------------------+------+-----+---------+-------+
3 rows in set (0.01 sec)
```
*   `name`, `age`, `gender` 都是字段名。
*   `Type` 显示了它们的数据类型，比如 `varchar(255)` 表示可以存最多$255$个字符的文本。
*   `Null` 都是 `YES`，表示这三个字段都允许不填数据。
*   `Key` 都是空的，表示它们都不是主键或唯一键。
*   `Default` 都是 `NULL`，表示如果不指定值，默认就是 `NULL`。
*   `Extra` 都是空的。

**例子2：查看 `student` 表的结构**
假设 `student` 表结构如老师视频中所示，有 `sid` (主键, 自增), `name` (不能为空), `gender` (有默认值), `age`。

执行：
```sql
DESC student;
```

MySQL可能会返回类似这样的结果 (具体类型和约束可能根据创建时定义有所不同)：
```
+--------+-------------+------+-----+---------+----------------+
| Field  | Type        | Null | Key | Default | Extra          |
+--------+-------------+------+-----+---------+----------------+
| sid    | int         | NO   | PRI | NULL    | auto_increment |
| name   | varchar(50) | NO   |     | NULL    |                |
| gender | char(1)     | YES  |     | 'm'     |                |
| age    | int         | YES  |     | NULL    |                |
+--------+-------------+------+-----+---------+----------------+
4 rows in set (0.00 sec)
```
*   `sid`: `Null` 是 `NO` (不能为空)，`Key` 是 `PRI` (主键)，`Extra` 是 `auto_increment` (自增长)。
*   `name`: `Null` 是 `NO` (不能为空)。
*   `gender`: `Default` 是 `'m'` (假设创建时设置了默认性别为男性)。

**强调：** `DESC` 命令只显示表的列定义（元数据），不显示表中的实际数据行（记录）。

### 1.2.3 查看创建表的SQL语句：`SHOW CREATE TABLE <表名>`

**通俗概括：** 这条命令能让你看到当初创建这个“小本子”（表）时，系统实际执行的那段“咒语”（SQL创建语句），包括了所有细节，比如用什么“墨水”（编码方式）、什么“装订方式”（存储引擎）等。这对于理解表的完整定义非常有用。

**命令：**
```sql
SHOW CREATE TABLE <表名>;
```

**细节解释：**
*   `SHOW CREATE TABLE`：这是一个固定的组合，告诉MySQL：“我想看创建某个表的完整SQL语句。”
*   `<表名>`：同样，替换成你想要查看的表的实际名称。
*   **来源/联想：** 老师提到，这和 `SHOW CREATE DATABASE <数据库名>;`（查看创建数据库的语句）的逻辑是一样的。都是用来反向查看一个对象是如何被创建的。

**作用：**
这条命令会返回两条结果：
1.  表名。
2.  创建该表的完整 `CREATE TABLE` SQL语句。这个语句会非常详细，包括了所有在创建表时指定的选项，以及MySQL为表设置的一些默认选项（比如存储引擎、字符集等）。

**例子：查看 `user` 表的创建语句**

执行：
```sql
SHOW CREATE TABLE user;
```

MySQL可能会返回类似这样的结果（具体细节可能因MySQL版本和配置而略有不同）：
```
+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                                                      |
+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| user  | CREATE TABLE `user` (                                                                                                                                                                                                                                                               |
|       |   `name` varchar(255) DEFAULT NULL,                                                                                                                                                                                                                                                 |
|       |   `age` int DEFAULT NULL,                                                                                                                                                                                                                                                           |
|       |   `gender` varchar(255) DEFAULT NULL                                                                                                                                                                                                                                                |
|       | ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci                                                                                                                                                                                                                |
+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)
```
**关键信息解读：**
*   `CREATE TABLE \`user\``: 这是创建表语句的开头，`user` 是表名，用反引号 `` \` `` 包起来是好习惯，可以避免与关键字冲突。
*   字段定义：`name varchar(255) DEFAULT NULL`, `age int DEFAULT NULL`, `gender varchar(255) DEFAULT NULL`。这和我们 `DESC user;` 看到的信息是一致的，但这里是SQL语句的形式。`DEFAULT NULL` 表示如果插入时不指定值，则默认为`NULL`。
*   `ENGINE=InnoDB`：这指定了表的**存储引擎**。
    *   **存储引擎是什么？** 就像汽车的发动机，决定了汽车的性能和特点。在MySQL中，存储引擎负责数据的存储、读取、索引等底层操作。`InnoDB` 是MySQL默认的、功能最强大的事务型存储引擎，支持事务、外键、行级锁等。老师提到，默认用的都是`InnoDB`。
*   `DEFAULT CHARSET=utf8mb4`：这指定了表的**默认字符集**。
    *   **字符集是什么？** 电脑存储文字时，需要把文字转换成数字编码。字符集就是一套“文字到数字”的对应规则。`utf8mb4` 是一种非常通用的字符集，能支持几乎所有国家的语言文字，包括emoji表情。
*   `COLLATE=utf8mb4_0900_ai_ci`：这是字符集的**校对规则**，它定义了如何比较字符串（比如是否区分大小写，如何排序等）。

**哪个用的多？**
老师提到，`SHOW TABLES;` 和 `DESC <表名>;` 用得比较多。`SHOW TABLES;` 让你快速了解当前数据库有哪些表，`DESC <表名>;` 让你了解特定表的结构。`SHOW CREATE TABLE <表名>;` 在需要精确了解表的所有定义细节，或者想复制表结构到其他地方时非常有用。

---

## 1.3 三、删除表 (Deleting Tables)

**通俗概括：** 这部分教我们如何把不再需要的“小本子”（表）从数据库中彻底移除。这是一个很“暴力”的操作，一旦删除，里面的数据和表本身就都没了！

### 1.3.1 删除指定表：`DROP TABLE <表名>`

**通俗概括：** 这条命令就是把你不想要的小本子（表）彻底扔进碎纸机，里面的内容和本子本身都一起消失了。

**命令：**
```sql
DROP TABLE [IF EXISTS] <表名>;
```

**细节解释：**
*   `DROP`：SQL关键字，通常用于删除数据库对象，比如删除数据库 (`DROP DATABASE`)、删除表 (`DROP TABLE`)、删除索引 (`DROP INDEX`)等。
*   `TABLE`：SQL关键字，指明 `DROP` 的对象是“表”。
*   `[IF EXISTS]`：这是一个**可选**的子句。
    *   **方括号 `[]` 的含义：** 在文档或语法说明中，方括号通常表示里面的部分是可选的，可加可不加。
    *   **`IF EXISTS` 的作用：**
        *   **如果不加 `IF EXISTS`：** 当你尝试删除一个**不存在**的表时，MySQL会报错，提示找不到该表。
        *   **如果加上 `IF EXISTS`：** 当你尝试删除一个表时：
            *   如果表**存在**，则正常删除。
            *   如果表**不存在**，MySQL不会报错，而是会静默处理（通常会有一个警告信息，提示表未找到，所以未执行删除），程序不会因此中断。这在写脚本时非常有用，可以避免因为表不存在而导致脚本失败。
*   `<表名>`：你需要删除的表的实际名称。

**来源/联想：**
老师强调，这和删除数据库的命令 `DROP DATABASE [IF EXISTS] <数据库名>;` 非常相似，只是把关键字 `DATABASE` 换成了 `TABLE`。这种命令结构的统一性使得学习和记忆更为容易。

**重要警告：**
删除表是一个**非常危险**的操作！一旦执行，表中的所有数据都会被永久删除，并且通常无法恢复（除非你有数据库备份）。所以在执行 `DROP TABLE` 之前，请务必三思，确认你真的不再需要这张表和它里面的数据了。

**例子：**

1.  **假设 `user` 表存在，我们想删除它：**
    ```sql
    DROP TABLE user;
    ```
    执行后，如果再次 `SHOW TABLES;`，`user` 表就不见了。

2.  **尝试再次删除已经不存在的 `user` 表（不加 `IF EXISTS`）：**
    ```sql
    DROP TABLE user;
    ```
    MySQL会报错，类似：
    ```
    ERROR 1051 (42S02): Unknown table 'db_day01.user'
    ```
    意思是“未知的表 'db_day01.user'”。

3.  **尝试删除可能不存在的 `user` 表（加上 `IF EXISTS`）：**
    ```sql
    DROP TABLE IF EXISTS user;
    ```
    如果 `user` 表确实不存在，MySQL不会报错，而是会显示类似：
    ```
    Query OK, 0 rows affected, 1 warning (0.00 sec)
    ```
    这里的 `1 warning` 通常会提示表未找到，所以没有进行删除操作。这样程序就不会因为表不存在而崩溃。

**例子场景回顾（根据老师描述）：**
*   先 `SHOW TABLES;`，看到 `student` 和 `user` 表。
*   执行 `DROP TABLE user;`，成功删除 `user` 表。
*   再 `SHOW TABLES;`，只剩下 `student` 表。
*   尝试再次执行 `DROP TABLE user;`，此时会报错，因为 `user` 表已经没了。
*   执行 `DROP TABLE IF EXISTS user;`，此时不会报错，但会有一个警告，因为 `user` 表不存在，所以没有实际删除任何东西。

---

**总结一下老师说的：**
查看表和删除表的操作相对简单，尤其是和下一节要讲的“修改表结构”相比，内容要少得多。

希望这些解释能帮助你理解！记住，多动手练习是学习MySQL最好的方法。每学一个命令，都可以在自己的MySQL环境里敲一敲，看看效果。